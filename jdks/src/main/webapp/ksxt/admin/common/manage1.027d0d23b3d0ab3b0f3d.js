webpackJsonp([17],{0:function(e,t,i){e.exports=i(428)},266:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=i(7);var n=l(o);var a=i(8);var d=l(a);var s=i(952);var r=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function c(){return{currentMenu:"manage",currentSubmenu:"manage1",currentParentmenu:""}},components:{Navbar:n.default,Topmenu:d.default,Mainarea:r.default}}},267:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=i(956);var n=a(o);function a(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function d(){return{currentView:"PxDefault"}},components:{PxDefault:n.default},ready:function s(){}}},268:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=i(1);var n=l(o);var a=i(2);var d=l(a);var s=i(459);var r=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}t.default={editmode:"add",mixins:[r.default],events:{doAdd:"doAdd"},methods:{doAdd:function c(e){this.validateAll(function(){window.post({url:"/yeyzsxjxh/adminmgr/addAdminUser",data:window.myEncode(this.entity)},function(t){t=window.myDecode(t);if(t.status==="success"){e.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(t.message)}})}.bind(this))}},ready:function f(){var e=window.__global.user.roletype;this.beforeInit();var t=(0,n.default)(this.selector+" [name=roletype]");t.find("option").remove();t.append('<option value="">请选择</option>');var i="";switch(e){case"0":i='\n          <option value="1">市级管理员</option>\n          <option value="2">区级管理员</option>\n          <option value="3">学校管理员</option>\n        ';break;case"1":i='\n          <option value="2">区级管理员</option>\n          <option value="3">学校管理员</option>\n        ';break;case"2":i='\n          <option value="3">学校管理员</option>\n        ';break}t.append(i);if(e==="2"){var o=window.__global.user.districtcode;this.entity.districtcode=o;var a=(0,n.default)(this.selector+" [name=schoolcode]");window.combine({url:"/yeyzsxjxh/schoolmgr/getSchoolByDistrict",data:window.myEncode({districtcode:o})},[{selector:a,str:"全部",fields:["schoolcode","schoolname"],datafield:""}])}this.$nextTick(function(){this.afterInit();this.validateInit()})},components:{Vf:d.default}}},269:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=i(2);var n=s(o);var a=i(460);var d=s(a);function s(e){return e&&e.__esModule?e:{"default":e}}t.default={editmode:"edit",mixins:[d.default],props:["id"],events:{doEdit:"doEdit"},methods:{doEdit:function r(e,t){this.validateAll(function(){window.post({url:"/yeyzsxjxh/adminmgr/updateAdminUser",data:window.myEncode(this.entity)},function(e){e=window.myDecode(e);if(e.status==="success"){t.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(e.message)}})}.bind(this))}},ready:function l(){this.beforeInit();window.post({url:"/yeyzsxjxh/adminmgr/showAdminUser",data:window.myEncode({id:this.$parent.id})},function(e){e=window.myDecode(e);this.entity.schoolcode=e.data.schoolcode;this.dataPreHandle(e);this.$nextTick(function(){this.afterInit();this.validateInit()}.bind(this))}.bind(this))},components:{Vf:n.default}}},270:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=i(2);var n=a(o);function a(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function d(){return{entity:{}}},props:["id"],methods:{},ready:function s(){window.post({url:"/yeyzsxjxh/adminmgr/showAdminUser",data:window.myEncode({id:this.$parent.id})},function(e){e=window.myDecode(e);this.dataPreHandle(e)}.bind(this))},components:{Vf:n.default}}},271:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=i(10);var n=w(o);var a=i(11);var d=w(a);var s=i(4);var r=w(s);var l=i(953);var c=w(l);var f=i(955);var u=w(f);var p=i(954);var v=w(p);var h=i(12);var m=w(h);function w(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function y(){var e=window.__global.user.roletype;var t=(0,n.default)(["0","1","2","3"],"manage1_table",e,this);if(!t){t={}}return t},methods:{add:function b(){var e=r.default.extend({template:"<mx-add></mx-add>",components:{MxAdd:c.default}});this.dialogModal({did:"modal_add",title:"添加",buttons:[{label:"保存",cssClass:"btn-primary",action:function t(e){window.app.$broadcast("doAdd",e)}},{label:"取消",action:function i(e){e.close()}}]},e)},view:function x(e){var t=r.default.extend({data:function i(){return{id:e}},template:"<mx-view></mx-view>",components:{MxView:u.default}});this.dialogModal({did:"modal_view",title:"查看",buttons:[{label:"关闭",action:function o(e){e.close()}}]},t)},edit:function _(e){var t=r.default.extend({data:function i(){return{id:e}},template:"<mx-edit></mx-edit>",components:{MxEdit:v.default}});this.dialogModal({did:"modal_edit",title:"编辑",buttons:[{label:"提交",cssClass:"btn-primary",action:function o(t){window.app.$broadcast("doEdit",e,t)}},{label:"取消",action:function n(e){e.close()}}]},t)},restore:function g(e){this.dialogConfirm({title:"恢复",message:"确定恢复此用户吗?"},["取消","恢复"],{url:"/yeyzsxjxh/adminmgr/regainAdminUser",data:window.myEncode({id:e})},function(e){e=window.myDecode(e);window.Alert(e.message);window.app.$broadcast("reloadList")},function(e){e=window.myDecode(e);window.Alert(e.message);window.app.$broadcast("reloadList")})},cancel:function M(e){this.dialogConfirm({title:"注销",message:"确定注销此用户吗?"},["取消","注销"],{url:"/yeyzsxjxh/adminmgr/delAdminUser",data:window.myEncode({id:e})},function(e){e=window.myDecode(e);window.Alert(e.message);window.app.$broadcast("reloadList")},function(e){e=window.myDecode(e);window.Alert(e.message);window.app.$broadcast("reloadList")})},reset:function A(e){this.dialogConfirm({title:"重置密码",message:"确定重置用户密码为123456吗?"},["取消","重置密码"],{url:"/yeyzsxjxh/adminmgr/recoverUserPwd",data:window.myEncode({id:e})},function(e){e=window.myDecode(e);window.Alert(e.message);window.app.$broadcast("reloadList")},function(e){e=window.myDecode(e);window.Alert(e.message);window.app.$broadcast("reloadList")})},reloadList:function E(){this.dataHandle()}},events:{add:"add",reloadList:"reloadList",view:"view",edit:"edit",restore:"restore",cancel:"cancel",reset:"reset"},components:{Searchbar:d.default,Va:m.default},ready:function j(){this.pageNav();this.dataTableInit()}}},428:function(e,t,i){"use strict";var o=i(4);var n=r(o);var a=i(951);var d=r(a);var s=i(5);function r(e){return e&&e.__esModule?e:{"default":e}}window.__pageInit=function(){s.km.init(function(){window.app=new n.default({el:"body",components:{App:d.default}})})}},459:function(e,t,i){"use strict";var o=i(9);var n=l(o);var a=i(1);var d=l(a);var s=i(15);var r=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}e.exports={data:function c(){var e={roletype:{m:1,type:"select",show:false,disable:0,msgto:["districtcode","schoolcode"],onchange:function(e,t){if(window.__global.user.roletype!=="2"){this.entity.districtcode="";var i=(0,d.default)(this.selector+" [name=districtcode]");i.selectpicker("refresh")}this.entity.roleid="";window.combine({url:"/yeyzsxjxh/adminmgr/getShowRoleList",data:(0,n.default)({roletype:t})},[{selector:this.selector+" [name=roleid]",str:"请选择",fields:["roleid","rolename"],datafield:""}])}.bind(this)},roleid:{m:1,type:"select",show:false,disable:0},districtcode:{m:0,type:"select",show:false,disable:0,cond_noneed:function(){return this.entity.roletype==="0"||this.entity.roletype==="1"}.bind(this),cond_disable:function(){var e=this.entity.roletype==="0"||this.entity.roletype==="1";var t=window.__global.user.roletype==="2"||window.__global.user.roletype==="3";return e||t}.bind(this),chk:function(e,t){if(this.entity.roletype!=="0"&&this.entity.roletype!=="1"){if(!this.entity[e]){this.showError(e,"请选择区县")}}t()}.bind(this),onchange:function(e,t){this.entity.schoolcode="";var i=window.__global.user.districtcode||this.entity[e];var o=(0,d.default)(this.selector+" [name=schoolcode]");o.find("option").remove();o.append('<option value="">请选择</option>');window.combine({url:"/yeyzsxjxh/schoolmgr/getSchoolByDistrict",data:window.myEncode({districtcode:i})},[{selector:this.selector+" [name=schoolcode]",str:"请选择",fields:["schoolcode","schoolname"],datafield:""}])}.bind(this),onsubmit:function(e){if(this.entity.roletype==="0"||this.entity.roletype==="1"){this.entity[e]=""}}.bind(this)},schoolcode:{m:0,type:"select",show:false,disable:0,cond_noneed:function(){return this.entity.roletype==="0"||this.entity.roletype==="1"||this.entity.roletype==="2"}.bind(this),cond_disable:function(){var e=this.entity.roletype==="0"||this.entity.roletype==="1"||this.entity.roletype==="2";var t=window.__global.user.datarole==="3";return e||t}.bind(this),chk:function(e,t){if(this.entity.roletype!=="0"&&this.entity.roletype!=="1"&&this.entity.roletype!=="2"){if(!this.entity[e]){this.showError(e,"请选择学校")}}t()}.bind(this),onsubmit:function(e){if(this.entity.roletype==="0"||this.entity.roletype==="1"||this.entity.roletype==="2"){this.entity[e]=""}}.bind(this)},realname:{m:1,type:"",show:false,disable:0,chk:function(e,t){if(this.entity[e].match(/\s/g)){this.showError(e,"姓名不能包含空格")}t()}.bind(this)},ename:{m:1,type:"",show:false,chk:function(e,t){if(!/^[-a-zA-Z0-9_]+$/.test(this.entity[e])){this.showError(e,"用户名只能输入字母、数字、-和_")}t()}.bind(this)},sfzjh:{m:0,type:"",show:false,disable:0},mobile:{m:1,type:"",show:false,disable:0,chk:function(e,t){if(!/^[1][0-9]{10}$/.test(this.entity[e])){this.showError(e,"手机号不符合规则,必须为11位数字1开头");t();return}t()}.bind(this)},email:{m:1,type:"",show:false,disable:0,chk:function(e,t){var i=r.default.valid_email(this.entity[e]);if(i){this.showError(e,i);t();return}t()}.bind(this)}};var t={};for(var i in e){t[i]=""}return{entity:t,validateConfig:e,selector:"#modal_add"}}}},460:function(e,t,i){"use strict";var o=i(3);var n=s(o);var a=i(1);var d=s(a);function s(e){return e&&e.__esModule?e:{"default":e}}e.exports={data:function r(){var e={roletype:{m:0,type:"select",show:false,disable:0},roleid:{m:1,type:"select",show:false,ready:function(e,t){window.post({url:"/yeyzsxjxh/adminmgr/getShowRoleList",data:window.myEncode({roletype:this.entity.roletype})},function(t){t=window.myDecode(t);var i=(0,d.default)(this.selector+" [name=roleid]");i.find("option").remove();i.append('<option value="">请选择</option>');var o=true;var a=false;var s=undefined;try{for(var r=(0,n.default)(t.data),l;!(o=(l=r.next()).done);o=true){var c=l.value;i.append('<option value="'+c.roleid+'">'+c.rolename+"</option>")}}catch(f){a=true;s=f}finally{try{if(!o&&r.return){r.return()}}finally{if(a){throw s}}}if(this.entity[e]){i.selectpicker("val",this.entity[e])}i.selectpicker("refresh")}.bind(this));t(null,"")}.bind(this)},districtcode:{m:0,type:"select",show:false,disable:0},schoolcode:{m:0,type:"",show:true,disable:0},realname:{m:1,type:"",show:false,disable:0,chk:function(e,t){if(this.entity[e].match(/\s/g)){this.showError(e,"姓名不能包含空格")}t()}.bind(this)},ename:{m:1,type:"",show:false,chk:function(e,t){if(!/^[-a-zA-Z0-9_]+$/.test(this.entity[e])){this.showError(e,"用户名只能输入字母、数字、-和_")}t()}.bind(this)},sfzjh:{m:0,type:"",show:false,disable:0},mobile:{m:1,type:"",show:false,disable:0,chk:function(e,t){if(!/^[1][0-9]{10}$/.test(this.entity[e])){this.showError(e,"手机号不符合规则,必须为11位数字1开头");t();return}t()}.bind(this)},email:{m:1,type:"",show:false,disable:0}};var t={};for(var i in e){t[i]=""}return{mobile_old:"",email_old:"",sfzjh_old:"",ename_old:"",entity:t,validateConfig:e,selector:"#modal_edit"}}}},557:function(e,t){},558:function(e,t){},559:function(e,t){},560:function(e,t){},561:function(e,t){},562:function(e,t){},751:function(e,t){e.exports=" <div id=app class=appv> <navbar></navbar> <topmenu :current-menu=currentMenu :current-submenu=currentSubmenu :current-parentmenu=currentParentmenu></topmenu> <mainarea v-ref:mainarea></mainarea> </div> "},752:function(e,t){e.exports=" <div class=mainarea> <component :is=currentView></component> </div> "},753:function(e,t){e.exports=" <div> <div class=d-tbl> <vf field=roletype label=角色类型></vf> <vf field=roleid label=角色 :data-value=entity.roleid :data-name=entity.rolename data-live-search=true></vf> <hr> <vf field=districtcode label=区县 data-dict=t_bz_district></vf> <vf field=schoolcode label=学校></vf> <hr> <vf field=ename label=用户名 maxlength=20></vf> <vf field=realname label=姓名 maxlength=20></vf> <vf field=sfzjh label=身份证 maxlength=20></vf> <vf field=mobile label=手机号 maxlength=20></vf> <vf field=email label=邮箱 maxlength=50></vf> </div> </div> "},754:function(e,t){e.exports=" <div> <div class=d-tbl> <vf mode=view field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf field=roleid label=角色></vf> <hr> <vf mode=view field=districtcode label=区县 data-dict=t_bz_district></vf> <vf mode=view field=schoolname label=学校></vf> <hr> <vf mode=view field=ename label=用户名></vf> <vf field=realname label=姓名 maxlength=20></vf> <vf field=sfzjh label=身份证 maxlength=20></vf> <vf field=mobile label=手机号 maxlength=20></vf> <vf field=email label=邮箱 maxlength=50></vf> </div> </div> "},755:function(e,t){e.exports=" <div> <div class=d-tbl> <vf mode=view field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf mode=view field=rolename label=角色></vf> <hr> <vf mode=view field=districtcode label=区县 data-dict=t_bz_district></vf> <vf mode=view field=schoolname label=学校></vf> <hr> <vf mode=view field=realname label=姓名></vf> <vf mode=view field=ename label=用户名></vf> <vf mode=view field=sfzjh label=身份证></vf> <vf mode=view field=mobile label=手机号></vf> <vf mode=view field=email label=邮箱></vf> </div> </div> "},756:function(e,t){e.exports=' <div class="pagetitle clearfix"> <div class=t></div> <div class=a></div> </div> <div class=pagebody> <div class=row> <div class=col-sm-12> <searchbar v-ref:searchbar :searchbar=searchbarId :searchbar-col=searchbarCol :searchbar-fields=searchbarFields></searchbar> </div> </div> <div class=row> <div class=col-sm-12> <div id=toolbar class=btn-toolbar> <va></va> </div> <table id=table class=tbl></table> </div> </div> </div> '},951:function(e,t,i){var o,n;i(557);o=i(266);n=i(751);e.exports=o||{};if(e.exports.__esModule)e.exports=e.exports.default;if(n){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=n}},952:function(e,t,i){var o,n;i(558);o=i(267);n=i(752);e.exports=o||{};if(e.exports.__esModule)e.exports=e.exports.default;if(n){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=n}},953:function(e,t,i){var o,n;i(559);o=i(268);n=i(753);e.exports=o||{};if(e.exports.__esModule)e.exports=e.exports.default;if(n){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=n}},954:function(e,t,i){var o,n;i(560);o=i(269);n=i(754);e.exports=o||{};if(e.exports.__esModule)e.exports=e.exports.default;if(n){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=n}},955:function(e,t,i){var o,n;i(561);o=i(270);n=i(755);e.exports=o||{};if(e.exports.__esModule)e.exports=e.exports.default;if(n){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=n}},956:function(e,t,i){var o,n;i(562);o=i(271);n=i(756);e.exports=o||{};if(e.exports.__esModule)e.exports=e.exports.default;if(n){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=n}}});