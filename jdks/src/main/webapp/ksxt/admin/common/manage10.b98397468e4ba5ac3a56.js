webpackJsonp([2],{0:function(e,t,i){e.exports=i(452)},213:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(8);var s=u(a);var n=i(52);var o=u(n);var l=i(9);var c=u(l);var d=i(1288);var r=u(d);function u(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function f(){return{currentMenu:"systemManage",currentSubmenu:"manage10"}},components:{Helpbar:o.default,Navbar:s.default,Topmenu:c.default,Mainarea:r.default}}},214:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(1295);var s=n(a);function n(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function o(){return{currentView:"PxDefault"}},components:{PxDefault:s.default},ready:function l(){}}},215:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(10);var s=n(a);function n(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function o(){var e=window.__global.user.roleid;var t=(0,s.default)(["0"],"manage2_table_accountlist",e,this);if(!t){return{}}return t},props:["id"],ready:function l(){this.postData.id=this.id;this.dataTableInit()}}},216:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(2);var s=l(a);var n=i(511);var o=l(n);function l(e){return e&&e.__esModule?e:{"default":e}}t.default={editmode:"add",mixins:[o.default],events:{doAdd:"doAdd",showView:"showView"},methods:{doAdd:function c(e){this.entity.xd=[];this.entity.xxxz=["1","2"];this.validateAll(function(){window.post({url:"/yeyzsxj/role/addNewRole",data:window.myEncode(this.entity)},function(t){t=window.myDecode(t);if(t.status==="success"){e.close();window.app.$broadcast("reloadList","add");window.Alert("操作成功")}else{window.Alert(t.message)}})}.bind(this))}},ready:function d(){this.beforeInit();this.afterInit();this.validateInit()},components:{Vf:s.default}}},217:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(5);var s=x(a);var n=i(1);var o=x(n);var l=i(3);var c=x(l);var d=i(11);var r=x(d);var u=i(1294);var f=x(u);var p=i(2);var v=x(p);var h=i(512);var m=x(h);function x(e){return e&&e.__esModule?e:{"default":e}}t.default={editmode:"edit",mixins:[m.default],props:["id"],events:{doEdit:"doEdit",showView:"showView"},methods:{funcselectAll:function b(){if((0,c.default)(".funcSelectAll").is(":checked")){for(var e in this.funclist){this.funclist[e].checked=true;(0,c.default)("#funccheckList :checkbox").prop("checked",true)}}else{for(var t in this.funclist){this.funclist[t].checked=false;(0,c.default)("#funccheckList :checkbox").prop("checked",false)}}},doEdit:function y(e,t){var i=[];var a=[];var n=true;var l=false;var c=undefined;try{for(var d=(0,s.default)(this.menulist),r;!(n=(r=d.next()).done);n=true){var u=r.value;if(u.checked){i.push(u.id)}}}catch(f){l=true;c=f}finally{try{if(!n&&d.return){d.return()}}finally{if(l){throw c}}}var p=true;var v=false;var h=undefined;try{for(var m=(0,s.default)(this.funclist),x;!(p=(x=m.next()).done);p=true){var b=x.value;if(b.checked){a.push(b.id)}}}catch(f){v=true;h=f}finally{try{if(!p&&m.return){m.return()}}finally{if(v){throw h}}}var y={menus:i,roleid:this.id};this.validateAll(function(){window.post({url:"/jdks/permission/configRole",data:(0,o.default)(y)},function(e){if(e.status==="success"){t.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(e.message)}})})},showView:function w(){(0,c.default)(".add_mainarea").find(".tab").click(function(){(0,c.default)(".add_mainarea").find(".tab").removeClass("active");(0,c.default)(".add_mainarea").find(".pagebody").css("display","none");(0,c.default)(this).addClass("active");(0,c.default)(".add_mainarea").find(".pagebody").eq((0,c.default)(this).index()).css("display","block")})}},ready:function _(){this.showView();this.beforeInit();window.post({url:"/jdks/permission/getMenuListByRoleId",data:(0,o.default)({roleid:this.id})},function(e){this.entity=e.data;this.menulist=r.default.get("menuaccess",true);if(e.data){for(var t=0;t<this.menulist.length;t++){for(var i=0;i<e.data.length;i++){if(e.data[i]["id"]===this.menulist[t].id){this.menulist[t].checked=true}}}}this.$nextTick(function(){this.afterInit();this.validateInit()})}.bind(this))},components:{PxA:f.default,Vf:v.default}}},218:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(5);var s=d(a);var n=i(11);var o=d(n);var l=i(3);var c=d(l);function d(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function r(){return{funclist:[],entity:{},url:"",chk:""}},props:["id"],computed:{items:function u(){var e=[];if(this.url===""&&this.chk===""){e=this.funclist}else{c.default.each(this.funclist,function(t,i){var a=this.url===""?i.url:this.url;var s=this.chk===""?i.checked:this.chk==="true";if(i.url.indexOf(a)!==-1&&i.checked===s){e.push(i)}}.bind(this))}return e}},events:{doApprove:"doApprove"},methods:{funcselectAll:function f(){if((0,c.default)(".funcSelectAll").is(":checked")){for(var e in this.funclist){this.funclist[e].checked=true;(0,c.default)("#funccheckList :checkbox").prop("checked",true)}}else{for(var t in this.funclist){this.funclist[t].checked=false;(0,c.default)("#funccheckList :checkbox").prop("checked",false)}}},doApprove:function p(e,t){var i=[];var a=true;var n=false;var o=undefined;try{for(var l=(0,s.default)(this.funclist),c;!(a=(c=l.next()).done);a=true){var d=c.value;if(d.checked){i.push(d.id)}}}catch(r){n=true;o=r}finally{try{if(!a&&l.return){l.return()}}finally{if(n){throw o}}}var u={menus:this.entity.menus,funcs:i,roleid:this.entity.roleid,roletype:this.entity.roletype,rolename:this.entity.rolename,roledesc:this.entity.roledesc,districtcode:this.entity.districtcode};this.validateAll(function(){window.post({url:"/yeyzsxj/permission/configRole",data:window.myEncode(u)},function(e){e=window.myDecode(e);if(e.status==="success"){t.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(e.message)}})})}},ready:function v(){window.post({url:"/yeyzsxj/permission/getRoleConfigs",data:window.myEncode({roleid:this.id})},function(e){e=window.myDecode(e);this.entity=e.data;this.funclist=o.default.get("dataaccess",true);for(var t=0;t<this.funclist.length;t++){this.funclist[t].checked=e.data.funcs.indexOf(this.funclist[t].id)!==-1}}.bind(this))}}},219:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(1);var s=l(a);var n=i(2);var o=l(n);function l(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function c(){return{entity:{}}},props:["id"],methods:{},ready:function d(){window.post({url:"/xjxt/role/showrole",data:(0,s.default)({roleid:this.id})},function(e){this.entity=e.data}.bind(this))},components:{Vf:o.default}}},220:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(3);var s=d(a);var n=i(12);var o=d(n);var l=i(13);var c=d(l);function d(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function r(){return{entity:{},menulist:[],funclist:[]}},events:{},methods:{cssname:function u(e){return{active2:e.parentid==="stat4a",active3:e.parentid==="school4a"||e.parentid==="discuss1a"||e.parentid==="discuss4a"||e.parentid==="discuss6a",active:e.parentid}},selectAll:function f(){if((0,s.default)(".btSelectAll").is(":checked")){for(var e in this.$parent.menulist){this.$parent.menulist[e].checked=true}(0,s.default)("#checkList :checkbox").prop("checked",true)}else{for(var t in this.$parent.menulist){this.$parent.menulist[t].checked=false}(0,s.default)("#checkList :checkbox").prop("checked",false)}},checkParent:function p(e){if(e.parentid===""){this.childChecked(e)}if(e.checked){this.cancelChecked(e)}else{this.setChecked(e)}},childChecked:function v(e){for(var t in this.$parent.menulist){if(this.$parent.menulist[t].parentid===e.id){this.$parent.menulist[t].checked=true;(0,s.default)("#checkList :checkbox").eq(t).prop("checked",true);this.childChecked(this.$parent.menulist[t])}}},setChecked:function h(e){for(var t in this.$parent.menulist){if(e.id===this.$parent.menulist[t].id){this.$parent.menulist[t].checked=true;(0,s.default)("#checkList :checkbox").eq(t).prop("checked",true)}}for(var i in this.$parent.menulist){if(e.parentid===this.$parent.menulist[i].id){this.setChecked(this.$parent.menulist[i])}}},cancelChecked:function m(e){for(var t in this.$parent.menulist){if(e.id===this.$parent.menulist[t].id){this.$parent.menulist[t].checked=false;(0,s.default)("#checkList :checkbox").eq(t).prop("checked",false)}}for(var i in this.$parent.menulist){if(this.$parent.menulist[i].parentid===e.id){this.cancelChecked(this.$parent.menulist[i])}}},checkList:function x(e){window.winLog(e)}},ready:function b(){this.dataTableInit()},components:{Searchbar:c.default,Va:o.default}}},221:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(10);var s=_(a);var n=i(4);var o=_(n);var l=i(11);var c=_(l);var d=i(1293);var r=_(d);var u=i(1290);var f=_(u);var p=i(1291);var v=_(p);var h=i(1292);var m=_(h);var x=i(1289);var b=_(x);var y=i(12);var w=_(y);function _(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function k(){var e=window.__global.user.roleid;var t=(0,s.default)(["0","1","2","3","4"],"manage10_table",e,this);if(!t){return{}}return t},events:{add:"add",edit:"edit",view:"view",approve:"approve",recover:"recover",cancel:"cancel",showAccountList:"showAccountList",reloadList:"reloadList"},methods:{showAccountList:function g(e){var t=o.default.extend({data:function i(){return{id:e}},template:'<mx-accountlist :id="id"></mx-accountlist>',components:{MxAccountlist:b.default}});this.dialogModal({did:"modal_accountlist",title:"查看关联账号",cssClass:"accountlist-dialog",buttons:[{label:"关闭",action:function a(e){e.close()}}]},t)},add:function A(){var e=o.default.extend({template:"<mx-add></mx-add>",components:{MxAdd:f.default}});this.dialogModal({did:"modal_add",title:"添加",draggable:true,buttons:[{label:"提交",cssClass:"btn-primary",action:function t(e){window.app.$broadcast("doAdd",e)}},{label:"关闭",action:function i(e){e.close()}}]},e)},edit:function M(e){var t=o.default.extend({data:function i(){return{id:e}},template:'<mx-edit :id="id"></mx-edit>',components:{MxEdit:v.default}});this.dialogModal({did:"modal_edit",title:"编辑",cssClass:"large-dialog",draggable:true,buttons:[{label:"提交",cssClass:"btn-primary",action:function a(t){window.app.$broadcast("doEdit",e,t)}},{label:"关闭",action:function s(e){e.close()}}]},t)},approve:function $(e){var t=o.default.extend({data:function i(){return{id:e}},template:'<mx-func :id="id"></mx-func>',components:{MxFunc:m.default}});this.dialogModal({did:"modal_edit",title:"授权",cssClass:"large-dialog",draggable:true,buttons:[{label:"提交",cssClass:"btn-primary",action:function a(t){window.app.$broadcast("doApprove",e,t)}},{label:"关闭",action:function s(e){e.close()}}]},t)},view:function C(e){var t=o.default.extend({data:function i(){return{id:e}},template:'<mx-view :id="id"></mx-view>',components:{MxView:r.default}});this.dialogModal({did:"modal_view",title:"查看",draggable:true,buttons:[{label:"关闭",action:function a(e){e.close()}}]},t)},cancel:function L(e){this.dialogConfirm({title:"注销角色",message:"<div>您确定要注销该角色吗？</div>"},["取消","注销"],{url:"/yeyzsxj/role/recoverOrCancelRole",data:window.myEncode({roleid:e,enabled:"0"})},function(){window.Alert("操作成功",null,function(){this.dataHandle()}.bind(this))}.bind(this),function(e,t){t.close();window.Alert(e.message)})},recover:function j(e){this.dialogConfirm({title:"恢复角色",message:"<div>您确定要恢复该角色吗？</div>"},["取消","恢复"],{url:"/yeyzsxj/role/recoverOrCancelRole",data:window.myEncode({roleid:e,enabled:"1"})},function(){window.Alert("操作成功",null,function(){this.dataHandle()}.bind(this))}.bind(this),function(e,t){t.close();window.Alert(e.message)})},reloadList:function S(){this.dataHandle()}},ready:function P(){this.pageNav();var e=c.default.get("menuaccess",true);if(!e){window.post({url:"/jdks/permission/queryAllMenus",type:"post",cache:false},function(e){console.log(e);e=e;c.default.set("menuaccess",e.data)})}this.dataTableInit()},components:{Va:w.default}}},452:function(e,t,i){"use strict";var a=i(4);var s=c(a);var n=i(1287);var o=c(n);var l=i(6);function c(e){return e&&e.__esModule?e:{"default":e}}window.__pageInit=function(){l.km.init(function(){window.app=new s.default({el:"body",components:{App:o.default}})})}},511:function(e,t){"use strict";e.exports={data:function i(){var e={roletype:{m:1,type:"select",show:false},rolename:{m:1,type:"",show:false},roledesc:{m:0,type:"",show:false,chk:function(e,t){if(this.entity[e]&&this.entity[e].length>100){this.showError(e,"角色描述不能超过 100 字符")}t()}.bind(this)}};var t={};for(var i in e){t[i]=""}return{entity:t,validateConfig:e,selector:"#modal_add"}}}},512:function(e,t){"use strict";e.exports={data:function i(){var e={roletype:{m:1,type:"select",show:false},rolename:{m:1,type:"",show:false},roledesc:{m:0,type:"",show:false,chk:function(e,t){if(this.entity[e]&&this.entity[e].length>100){this.showError(e,"角色描述不能超过 100 字符")}t()}.bind(this)},funclist:{m:0,type:"array",show:false},xd:{m:0,type:"array",show:false},xfnmg:{m:0,type:"",show:false},xxxz:{m:0,type:"array",show:false,disable:0},tjxz:{m:0,type:"",show:false}};var t={};for(var i in e){t[i]=""}return{entity:t,menulist:[],funclist:[],validateConfig:e,selector:"#modal_edit"}}}},680:function(e,t){},681:function(e,t){},682:function(e,t){},683:function(e,t){},684:function(e,t){},685:function(e,t){},686:function(e,t){},687:function(e,t){},850:function(e,t){},981:function(e,t){e.exports=" <div id=app class=appv> <navbar></navbar> <topmenu :current-menu=currentMenu :current-submenu=currentSubmenu :current-parentmenu=currentParentmenu></topmenu> <mainarea v-ref:mainarea></mainarea> <helpbar></helpbar> </div> "},982:function(e,t){e.exports=" <div class=mainarea> <component :is=currentView></component> </div> "},983:function(e,t){e.exports=" <div class=row> <div class=col-sm-12> <table id=table_accountlist class=tbl></table> </div> </div> "},984:function(e,t){e.exports=" <div class=d-tbl> <vf field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf field=rolename label=角色名称 maxlength=20></vf> <vf field=roledesc label=角色描述 type=pretext maxlength=100></vf> <vf field=districtcode label=区县 data-dict=t_bz_district></vf> <vf field=defaultval label=默认管理员 data-dict=t_bz_sfmr data-needed=1></vf> </div> "},985:function(e,t){e.exports=' <div class=d-tbl> </div> <div class=add_mainarea> <div class="pagetitle clearfix" style=margin-bottom:20px;min-width:auto> <div class=tabs> <span class="tab active">菜单项</span> </div> </div> <div id=d_a class=pagebody> <px-a v-ref:a></px-a> </div> <div id=d_c class=pagebody style=display:none> <div class=menulist_box> <div class="menuhead clearfix"> <div class="col col-1" style=text-align:center><input v-on:click=funcselectAll() name=funcSelectAll class=funcSelectAll type=checkbox></div> <div class="col col-5">url</div> <div class="col col-6">info</div> </div> <ul id=funccheckList> <li class=clearfix v-for="item in funclist"> <span class="col col-1 tc" style=text-align:center><input name=btSelect v-model=item.checked class=btSelect type=checkbox></span> <span class="col col-5 tc">{{ item.url }}</span> <span class="col col-6 tc">{{ item.info }}</span> </li> </ul> </div> </div> </div> '},986:function(e,t){e.exports=' <div class=add_func> <div class=pagebody> <div class=row> <div class=col-sm-4> <label class="col-sm-3 label-control">url</label> <div class=col-sm-9> <input type=text v-model=url> </div> </div> <div class=col-sm-4> <label class="col-sm-3 label-control">状态</label> <div class=col-sm-9> <select class=form-control v-model=chk> <option value="">全部</option> <option value=true>选中</option> <option value=false>未选中</option> </select> </div> </div> </div> <hr> <div class=menulist_box> <div class="menuhead clearfix"> <div class="col col-1" style=text-align:center><input v-on:click=funcselectAll() name=funcSelectAll class=funcSelectAll type=checkbox></div> <div class="col col-5">url</div> <div class="col col-6">info</div> </div> <ul id=funccheckList> <li class=clearfix v-for="item in items"> <span class="col col-1 tc" style=text-align:center><input name=btSelect v-model=item.checked class=btSelect type=checkbox></span> <span class="col col-5 tc">{{ item.url }}</span> <span class="col col-6 tc">{{ item.info }}</span> </li> </ul> </div> </div> </div> '},987:function(e,t){e.exports=" <div class=d-tbl> <vf mode=view field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf mode=view field=rolename label=角色名称></vf> <vf mode=view field=roledesc label=角色描述 type=pretext></vf> </div> "},988:function(e,t){e.exports=' <div> <div id=table_aa class=menulist_box> <div class="menuhead clearfix"> <div class="col col-1"><input name=btSelectAll class=btSelectAll v-on:click=selectAll() type=checkbox></div> <div class="col col-4">name</div> <div class="col col-2">id</div> <div class="col col-2">parentid</div> <div class="col col-3">desc</div> </div> <ul class=clearfix id=checkList> <li v-for="item in $parent.menulist"> <span class="col col-1 tc" style=text-align:center><input v-on:click=checkParent(item) v-model=item.checked name=btSelect class=btSelect type=checkbox></span> <span class="col col-4" v-bind:class=cssname(item)>{{ item.name }}</span> <span class="col col-2">{{ item.id }}</span> <span class="col col-2">{{ item.parentid || \'-\' }}</span> <span class="col col-3">{{ item.id }}</span> </li> </ul> </div> </div> '},989:function(e,t){e.exports=' <div class="pagetitle clearfix"> <div class=t></div> <div class=a></div> </div> <div class=pagebody> <div class=row> <div class=col-sm-12> <div id=toolbar class=btn-toolbar> <va></va> </div> <table id=table class=tbl></table> </div> </div> </div> '},1287:function(e,t,i){var a,s;i(680);a=i(213);s=i(981);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1288:function(e,t,i){var a,s;i(681);a=i(214);s=i(982);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1289:function(e,t,i){var a,s;i(682);a=i(215);s=i(983);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1290:function(e,t,i){var a,s;i(683);a=i(216);s=i(984);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1291:function(e,t,i){var a,s;i(684);a=i(217);s=i(985);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1292:function(e,t,i){var a,s;i(850);a=i(218);s=i(986);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1293:function(e,t,i){var a,s;i(685);a=i(219);s=i(987);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1294:function(e,t,i){var a,s;i(686);a=i(220);s=i(988);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},1295:function(e,t,i){var a,s;i(687);a=i(221);s=i(989);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}}});