webpackJsonp([10],{0:function(e,t,i){e.exports=i(429)},272:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(7);var s=u(a);var n=i(171);var l=u(n);var o=i(8);var c=u(o);var d=i(958);var r=u(d);function u(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function f(){return{currentMenu:"manage",currentSubmenu:"manage2"}},components:{Helpbar:l.default,Navbar:s.default,Topmenu:c.default,Mainarea:r.default}}},273:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(965);var s=n(a);function n(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function l(){return{currentView:"PxDefault"}},components:{PxDefault:s.default},ready:function o(){}}},274:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(10);var s=n(a);function n(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function l(){var e=window.__global.user.datarole;var t=(0,s.default)(["0"],"manage2_table_accountlist",e,this);if(!t){return{}}return t},props:["id"],ready:function o(){this.postData.id=this.id;this.dataTableInit()}}},275:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(2);var s=o(a);var n=i(457);var l=o(n);function o(e){return e&&e.__esModule?e:{"default":e}}t.default={editmode:"add",mixins:[l.default],events:{doAdd:"doAdd",showView:"showView"},methods:{doAdd:function c(e){this.entity.xd=[];this.entity.xxxz=["1","2"];this.validateAll(function(){window.post({url:"/yeyzsxjxh/role/addNewRole",data:window.myEncode(this.entity)},function(t){t=window.myDecode(t);if(t.status==="success"){e.close();window.app.$broadcast("reloadList","add");window.Alert("操作成功")}else{window.Alert(t.message)}})}.bind(this))}},ready:function d(){this.beforeInit();this.afterInit();this.validateInit()},components:{Vf:s.default}}},276:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(3);var s=h(a);var n=i(1);var l=h(n);var o=i(14);var c=h(o);var d=i(964);var r=h(d);var u=i(2);var f=h(u);var p=i(458);var v=h(p);function h(e){return e&&e.__esModule?e:{"default":e}}t.default={editmode:"edit",mixins:[v.default],props:["id"],events:{doEdit:"doEdit",showView:"showView"},methods:{funcselectAll:function m(){if((0,l.default)(".funcSelectAll").is(":checked")){for(var e in this.funclist){this.funclist[e].checked=true;(0,l.default)("#funccheckList :checkbox").prop("checked",true)}}else{for(var t in this.funclist){this.funclist[t].checked=false;(0,l.default)("#funccheckList :checkbox").prop("checked",false)}}},doEdit:function x(e,t){var i=[];var a=[];var n=true;var l=false;var o=undefined;try{for(var c=(0,s.default)(this.menulist),d;!(n=(d=c.next()).done);n=true){var r=d.value;if(r.checked){i.push(r.id)}}}catch(u){l=true;o=u}finally{try{if(!n&&c.return){c.return()}}finally{if(l){throw o}}}var f=true;var p=false;var v=undefined;try{for(var h=(0,s.default)(this.funclist),m;!(f=(m=h.next()).done);f=true){var x=m.value;if(x.checked){a.push(x.id)}}}catch(u){p=true;v=u}finally{try{if(!f&&h.return){h.return()}}finally{if(p){throw v}}}var y={menus:i,funcs:a,roleid:this.entity.roleid,roletype:this.entity.roletype,rolename:this.entity.rolename,roledesc:this.entity.roledesc,districtcode:this.entity.districtcode,defaultval:this.entity.defaultval};this.validateAll(function(){window.post({url:"/yeyzsxjxh/permission/configRole",data:window.myEncode(y)},function(e){e=window.myDecode(e);if(e.status==="success"){t.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(e.message)}})})},showView:function y(){(0,l.default)(".add_mainarea").find(".tab").click(function(){(0,l.default)(".add_mainarea").find(".tab").removeClass("active");(0,l.default)(".add_mainarea").find(".pagebody").css("display","none");(0,l.default)(this).addClass("active");(0,l.default)(".add_mainarea").find(".pagebody").eq((0,l.default)(this).index()).css("display","block")})}},ready:function b(){this.showView();this.beforeInit();window.post({url:"/yeyzsxjxh/permission/getRoleConfigs",data:window.myEncode({roleid:this.id})},function(e){e=window.myDecode(e);this.entity=e.data;this.menulist=c.default.get("menuaccess",true);for(var t=0;t<this.menulist.length;t++){this.menulist[t].checked=e.data.menus.indexOf(this.menulist[t].id)!==-1}this.funclist=c.default.get("dataaccess",true);for(var i=0;i<this.funclist.length;i++){this.funclist[i].checked=e.data.funcs.indexOf(this.funclist[i].id)!==-1}this.$nextTick(function(){this.afterInit();this.validateInit()})}.bind(this))},components:{PxA:r.default,Vf:f.default}}},277:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(3);var s=d(a);var n=i(14);var l=d(n);var o=i(1);var c=d(o);function d(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function r(){return{funclist:[],entity:{},url:"",chk:""}},props:["id"],computed:{items:function u(){var e=[];if(this.url===""&&this.chk===""){e=this.funclist}else{c.default.each(this.funclist,function(t,i){var a=this.url===""?i.url:this.url;var s=this.chk===""?i.checked:this.chk==="true";if(i.url.indexOf(a)!==-1&&i.checked===s){e.push(i)}}.bind(this))}return e}},events:{doApprove:"doApprove"},methods:{funcselectAll:function f(){if((0,c.default)(".funcSelectAll").is(":checked")){for(var e in this.funclist){this.funclist[e].checked=true;(0,c.default)("#funccheckList :checkbox").prop("checked",true)}}else{for(var t in this.funclist){this.funclist[t].checked=false;(0,c.default)("#funccheckList :checkbox").prop("checked",false)}}},doApprove:function p(e,t){var i=[];var a=true;var n=false;var l=undefined;try{for(var o=(0,s.default)(this.funclist),c;!(a=(c=o.next()).done);a=true){var d=c.value;if(d.checked){i.push(d.id)}}}catch(r){n=true;l=r}finally{try{if(!a&&o.return){o.return()}}finally{if(n){throw l}}}var u={menus:this.entity.menus,funcs:i,roleid:this.entity.roleid,roletype:this.entity.roletype,rolename:this.entity.rolename,roledesc:this.entity.roledesc,districtcode:this.entity.districtcode};this.validateAll(function(){window.post({url:"/yeyzsxjxh/permission/configRole",data:window.myEncode(u)},function(e){e=window.myDecode(e);if(e.status==="success"){t.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(e.message)}})})}},ready:function v(){window.post({url:"/yeyzsxjxh/permission/getRoleConfigs",data:window.myEncode({roleid:this.id})},function(e){e=window.myDecode(e);this.entity=e.data;this.funclist=l.default.get("dataaccess",true);for(var t=0;t<this.funclist.length;t++){this.funclist[t].checked=e.data.funcs.indexOf(this.funclist[t].id)!==-1}}.bind(this))}}},278:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(9);var s=o(a);var n=i(2);var l=o(n);function o(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function c(){return{entity:{}}},props:["id"],methods:{},ready:function d(){window.post({url:"/xjxt/role/showrole",data:(0,s.default)({roleid:this.id})},function(e){this.entity=e.data}.bind(this))},components:{Vf:l.default}}},279:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(1);var s=d(a);var n=i(12);var l=d(n);var o=i(11);var c=d(o);function d(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function r(){return{entity:{},menulist:[],funclist:[]}},events:{},methods:{cssname:function u(e){return{active2:e.parentid==="stat4a",active3:e.parentid==="school4a"||e.parentid==="discuss1a"||e.parentid==="discuss4a"||e.parentid==="discuss6a",active:e.parentid}},selectAll:function f(){if((0,s.default)(".btSelectAll").is(":checked")){for(var e in this.$parent.menulist){this.$parent.menulist[e].checked=true}(0,s.default)("#checkList :checkbox").prop("checked",true)}else{for(var t in this.$parent.menulist){this.$parent.menulist[t].checked=false}(0,s.default)("#checkList :checkbox").prop("checked",false)}},checkParent:function p(e){if(e.parentid===""){this.childChecked(e)}if(e.checked){this.cancelChecked(e)}else{this.setChecked(e)}},childChecked:function v(e){for(var t in this.$parent.menulist){if(this.$parent.menulist[t].parentid===e.id){this.$parent.menulist[t].checked=true;(0,s.default)("#checkList :checkbox").eq(t).prop("checked",true);this.childChecked(this.$parent.menulist[t])}}},setChecked:function h(e){for(var t in this.$parent.menulist){if(e.id===this.$parent.menulist[t].id){this.$parent.menulist[t].checked=true;(0,s.default)("#checkList :checkbox").eq(t).prop("checked",true)}}for(var i in this.$parent.menulist){if(e.parentid===this.$parent.menulist[i].id){this.setChecked(this.$parent.menulist[i])}}},cancelChecked:function m(e){for(var t in this.$parent.menulist){if(e.id===this.$parent.menulist[t].id){this.$parent.menulist[t].checked=false;(0,s.default)("#checkList :checkbox").eq(t).prop("checked",false)}}for(var i in this.$parent.menulist){if(this.$parent.menulist[i].parentid===e.id){this.cancelChecked(this.$parent.menulist[i])}}},checkList:function x(e){window.winLog(e)}},ready:function y(){this.dataTableInit()},components:{Searchbar:c.default,Va:l.default}}},280:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=i(10);var s=_(a);var n=i(4);var l=_(n);var o=i(14);var c=_(o);var d=i(963);var r=_(d);var u=i(960);var f=_(u);var p=i(961);var v=_(p);var h=i(962);var m=_(h);var x=i(959);var y=_(x);var b=i(12);var w=_(b);function _(e){return e&&e.__esModule?e:{"default":e}}t.default={data:function k(){var e=window.__global.user.roletype;var t=(0,s.default)(["0","1","2","3"],"manage2_table",e,this);if(!t){return{}}return t},events:{add:"add",edit:"edit",view:"view",approve:"approve",recover:"recover",cancel:"cancel",showAccountList:"showAccountList",reloadList:"reloadList"},methods:{showAccountList:function g(e){var t=l.default.extend({data:function i(){return{id:e}},template:'<mx-accountlist :id="id"></mx-accountlist>',components:{MxAccountlist:y.default}});this.dialogModal({did:"modal_accountlist",title:"查看关联账号",cssClass:"accountlist-dialog",buttons:[{label:"关闭",action:function a(e){e.close()}}]},t)},add:function A(){var e=l.default.extend({template:"<mx-add></mx-add>",components:{MxAdd:f.default}});this.dialogModal({did:"modal_add",title:"添加",draggable:true,buttons:[{label:"提交",cssClass:"btn-primary",action:function t(e){window.app.$broadcast("doAdd",e)}},{label:"关闭",action:function i(e){e.close()}}]},e)},edit:function M(e){var t=l.default.extend({data:function i(){return{id:e}},template:'<mx-edit :id="id"></mx-edit>',components:{MxEdit:v.default}});this.dialogModal({did:"modal_edit",title:"编辑",cssClass:"large-dialog",draggable:true,buttons:[{label:"提交",cssClass:"btn-primary",action:function a(t){window.app.$broadcast("doEdit",e,t)}},{label:"关闭",action:function s(e){e.close()}}]},t)},approve:function $(e){var t=l.default.extend({data:function i(){return{id:e}},template:'<mx-func :id="id"></mx-func>',components:{MxFunc:m.default}});this.dialogModal({did:"modal_edit",title:"授权",cssClass:"large-dialog",draggable:true,buttons:[{label:"提交",cssClass:"btn-primary",action:function a(t){window.app.$broadcast("doApprove",e,t)}},{label:"关闭",action:function s(e){e.close()}}]},t)},view:function C(e){var t=l.default.extend({data:function i(){return{id:e}},template:'<mx-view :id="id"></mx-view>',components:{MxView:r.default}});this.dialogModal({did:"modal_view",title:"查看",draggable:true,buttons:[{label:"关闭",action:function a(e){e.close()}}]},t)},cancel:function L(e){this.dialogConfirm({title:"注销角色",message:"<div>您确定要注销该角色吗？</div>"},["取消","注销"],{url:"/yeyzsxjxh/role/recoverOrCancelRole",data:window.myEncode({roleid:e,enabled:"0"})},function(){window.Alert("操作成功",null,function(){this.dataHandle()}.bind(this))}.bind(this),function(e,t){t.close();window.Alert(e.message)})},recover:function j(e){this.dialogConfirm({title:"恢复角色",message:"<div>您确定要恢复该角色吗？</div>"},["取消","恢复"],{url:"/yeyzsxjxh/role/recoverOrCancelRole",data:window.myEncode({roleid:e,enabled:"1"})},function(){window.Alert("操作成功",null,function(){this.dataHandle()}.bind(this))}.bind(this),function(e,t){t.close();window.Alert(e.message)})},reloadList:function S(){this.dataHandle()}},ready:function z(){this.pageNav();var e=c.default.get("dataaccess",true);var t=c.default.get("menuaccess",true);if(!t){window.post({url:"/yeyzsxjxh/permission/queryAllMenus",type:"post",cache:false},function(e){e=window.myDecode(e);c.default.set("menuaccess",e.data)})}if(!e){window.post({url:"/yeyzsxjxh/permission/queryAllFuncs",type:"post",cache:false},function(e){e=window.myDecode(e);c.default.set("dataaccess",e.data)})}this.dataTableInit()},components:{Va:w.default}}},429:function(e,t,i){"use strict";var a=i(4);var s=c(a);var n=i(957);var l=c(n);var o=i(5);function c(e){return e&&e.__esModule?e:{"default":e}}window.__pageInit=function(){o.km.init(function(){window.app=new s.default({el:"body",components:{App:l.default}})})}},457:function(e,t){"use strict";e.exports={data:function i(){var e={roletype:{m:1,type:"select",show:false},rolename:{m:1,type:"",show:false},roledesc:{m:0,type:"",show:false,chk:function(e,t){if(this.entity[e]&&this.entity[e].length>100){this.showError(e,"角色描述不能超过 100 字符")}t()}.bind(this)},districtcode:{m:0,type:"select",show:false},defaultval:{m:1,type:"select",show:false,ready:function(e,t){if(this.entity[e]===""){this.entity[e]="1"}t(null,"")}.bind(this)}};var t={};for(var i in e){t[i]=""}return{entity:t,validateConfig:e,selector:"#modal_add"}}}},458:function(e,t){"use strict";e.exports={data:function i(){var e={roletype:{m:1,type:"select",show:false},rolename:{m:1,type:"",show:false},roledesc:{m:0,type:"",show:false,chk:function(e,t){if(this.entity[e]&&this.entity[e].length>100){this.showError(e,"角色描述不能超过 100 字符")}t()}.bind(this)},districtcode:{m:0,type:"select",show:false},funclist:{m:0,type:"array",show:false},xd:{m:0,type:"array",show:false},xfnmg:{m:0,type:"",show:false},xxxz:{m:0,type:"array",show:false,disable:0},tjxz:{m:0,type:"",show:false},defaultval:{m:1,type:"select",show:false}};var t={};for(var i in e){t[i]=""}return{entity:t,menulist:[],funclist:[],validateConfig:e,selector:"#modal_edit"}}}},563:function(e,t){},564:function(e,t){},565:function(e,t){},566:function(e,t){},567:function(e,t){},568:function(e,t){},569:function(e,t){},570:function(e,t){},682:function(e,t){},757:function(e,t){e.exports=" <div id=app class=appv> <navbar></navbar> <topmenu :current-menu=currentMenu :current-submenu=currentSubmenu :current-parentmenu=currentParentmenu></topmenu> <mainarea v-ref:mainarea></mainarea> <helpbar></helpbar> </div> "},758:function(e,t){e.exports=" <div class=mainarea> <component :is=currentView></component> </div> "},759:function(e,t){e.exports=" <div class=row> <div class=col-sm-12> <table id=table_accountlist class=tbl></table> </div> </div> "},760:function(e,t){e.exports=" <div class=d-tbl> <vf field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf field=rolename label=角色名称 maxlength=20></vf> <vf field=roledesc label=角色描述 type=pretext maxlength=100></vf> <vf field=districtcode label=区县 data-dict=t_bz_district></vf> <vf field=defaultval label=默认管理员 data-dict=t_bz_sfmr data-needed=1></vf> </div> "},761:function(e,t){e.exports=' <div class=d-tbl> <vf mode=view field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf field=rolename label=角色名称 maxlength=20></vf> <vf field=roledesc label=角色描述 type=pretext maxlength=100></vf> <vf field=districtcode label=区县 data-dict=t_bz_district></vf> <vf field=defaultval label=默认管理员 data-dict=t_bz_sfmr></vf> </div> <div class=add_mainarea> <div class="pagetitle clearfix" style=margin-bottom:20px;min-width:auto> <div class=tabs> <span class="tab active">菜单项</span> <span class=tab>接口项</span> </div> </div> <div id=d_a class=pagebody> <px-a v-ref:a></px-a> </div> <div id=d_c class=pagebody style=display:none> <div class=menulist_box> <div class="menuhead clearfix"> <div class="col col-1" style=text-align:center><input v-on:click=funcselectAll() name=funcSelectAll class=funcSelectAll type=checkbox></div> <div class="col col-5">url</div> <div class="col col-6">info</div> </div> <ul id=funccheckList> <li class=clearfix v-for="item in funclist"> <span class="col col-1 tc" style=text-align:center><input name=btSelect v-model=item.checked class=btSelect type=checkbox></span> <span class="col col-5 tc">{{ item.url }}</span> <span class="col col-6 tc">{{ item.info }}</span> </li> </ul> </div> </div> </div> '},762:function(e,t){e.exports=' <div class=add_func> <div class=pagebody> <div class=row> <div class=col-sm-4> <label class="col-sm-3 label-control">url</label> <div class=col-sm-9> <input type=text v-model=url> </div> </div> <div class=col-sm-4> <label class="col-sm-3 label-control">状态</label> <div class=col-sm-9> <select class=form-control v-model=chk> <option value="">全部</option> <option value=true>选中</option> <option value=false>未选中</option> </select> </div> </div> </div> <hr> <div class=menulist_box> <div class="menuhead clearfix"> <div class="col col-1" style=text-align:center><input v-on:click=funcselectAll() name=funcSelectAll class=funcSelectAll type=checkbox></div> <div class="col col-5">url</div> <div class="col col-6">info</div> </div> <ul id=funccheckList> <li class=clearfix v-for="item in items"> <span class="col col-1 tc" style=text-align:center><input name=btSelect v-model=item.checked class=btSelect type=checkbox></span> <span class="col col-5 tc">{{ item.url }}</span> <span class="col col-6 tc">{{ item.info }}</span> </li> </ul> </div> </div> </div> '},763:function(e,t){e.exports=" <div class=d-tbl> <vf mode=view field=roletype label=角色类型 data-dict=t_roletypeinfo></vf> <vf mode=view field=rolename label=角色名称></vf> <vf mode=view field=roledesc label=角色描述 type=pretext></vf> </div> "},764:function(e,t){e.exports=' <div> <div id=table_aa class=menulist_box> <div class="menuhead clearfix"> <div class="col col-1"><input name=btSelectAll class=btSelectAll v-on:click=selectAll() type=checkbox></div> <div class="col col-4">name</div> <div class="col col-2">id</div> <div class="col col-2">parentid</div> <div class="col col-3">desc</div> </div> <ul class=clearfix id=checkList> <li v-for="item in $parent.menulist"> <span class="col col-1 tc" style=text-align:center><input v-on:click=checkParent(item) v-model=item.checked name=btSelect class=btSelect type=checkbox></span> <span class="col col-4" v-bind:class=cssname(item)>{{ item.name }}</span> <span class="col col-2">{{ item.id }}</span> <span class="col col-2">{{ item.parentid || \'-\' }}</span> <span class="col col-3">{{ item.desc }}</span> </li> </ul> </div> </div> '},765:function(e,t){e.exports=' <div class="pagetitle clearfix"> <div class=t></div> <div class=a></div> </div> <div class=pagebody> <div class=row> <div class=col-sm-12> <div id=toolbar class=btn-toolbar> <va></va> </div> <table id=table class=tbl></table> </div> </div> </div> '},957:function(e,t,i){var a,s;i(563);a=i(272);s=i(757);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},958:function(e,t,i){var a,s;i(564);a=i(273);s=i(758);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},959:function(e,t,i){var a,s;i(565);a=i(274);s=i(759);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},960:function(e,t,i){var a,s;i(566);a=i(275);s=i(760);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},961:function(e,t,i){var a,s;i(567);a=i(276);s=i(761);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},962:function(e,t,i){var a,s;i(682);a=i(277);s=i(762);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},963:function(e,t,i){var a,s;i(568);a=i(278);s=i(763);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},964:function(e,t,i){var a,s;i(569);a=i(279);s=i(764);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}},965:function(e,t,i){var a,s;i(570);a=i(280);s=i(765);e.exports=a||{};if(e.exports.__esModule)e.exports=e.exports.default;if(s){(typeof e.exports==="function"?e.exports.options||(e.exports.options={}):e.exports).template=s}}});