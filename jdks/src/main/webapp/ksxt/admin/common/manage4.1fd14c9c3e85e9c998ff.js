webpackJsonp([21],{0:function(t,e,i){t.exports=i(431)},287:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(7);var o=l(n);var d=i(8);var a=l(d);var s=i(973);var r=l(s);function l(t){return t&&t.__esModule?t:{"default":t}}e.default={data:function u(){return{currentMenu:"manage",currentSubmenu:"manage4"}},components:{Navbar:o.default,Topmenu:a.default,Mainarea:r.default}}},288:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(977);var o=d(n);function d(t){return t&&t.__esModule?t:{"default":t}}e.default={data:function a(){return{currentView:"PxDefault"}},components:{PxDefault:o.default},ready:function s(){}}},289:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(1);var o=s(n);var d=i(2);var a=s(d);function s(t){return t&&t.__esModule?t:{"default":t}}e.default={data:function r(){var t={title:{m:1,type:"",show:false},starttime:{m:1,type:"date",show:false},endtime:{m:1,type:"date",show:false,chk:function n(t,e){e()}},content:{m:0,type:"",show:false}};var e={};for(var i in t){e[i]=""}return{entity:e,validateConfig:t,selector:"#modal_add"}},events:{doAdd:"doAdd",showHide:"showHide"},methods:{showHide:function l(t){(0,o.default)("#d_hint").remove();if(t===1){(0,o.default)("#d_editor").show()}else{(0,o.default)("#d_editor").hide()}},doAdd:function u(t){var e=document.getElementById("d_frm");var i=e.contentWindow?e.contentWindow:e.contentDocument.defaultView;var n=i.UM.getEditor("myEditor").hasContents();window.winLog(n);this.validateAll(function(){if(!n){window.Alert("请填写内容");return}var e={};for(var o in this.entity){e[o]=this.entity[o]}e.content=i.UM.getEditor("myEditor").getContent();window.post({url:"/yeyzsxjxh/news/addNews",data:window.myEncode(e)},function(e){e=window.myDecode(e);if(e.status==="success"){t.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(e.message)}})}.bind(this))}},ready:function f(){this.beforeInit();this.afterInit();this.validateInit()},components:{Vf:a.default}}},290:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(1);var o=s(n);var d=i(2);var a=s(d);function s(t){return t&&t.__esModule?t:{"default":t}}e.default={data:function r(){var t={title:{m:1,type:"",show:false},starttime:{m:1,type:"date",show:false},endtime:{m:1,type:"date",show:false,chk:function n(t,e){e()}},content:{m:0,type:"",show:false}};var e={};for(var i in t){e[i]=""}return{entity:e,validateConfig:t,selector:"#modal_edit"}},props:["id"],events:{doEdit:"doEdit",showHide:"showHide"},methods:{showHide:function l(t){(0,o.default)("#d_hint").remove();if(t===1){(0,o.default)("#d_editor").show()}else{(0,o.default)("#d_editor").hide()}},setContent:function u(){var t=document.getElementById("d_frm");var e=t.contentWindow?t.contentWindow:t.contentDocument.defaultView;if((0,o.default)("#d_editor").css("display")!=="none"){e.UM.getEditor("myEditor").setContent(this.entity.content);(0,o.default)("#d_topmask").hide()}else{setTimeout(function(){this.setContent()}.bind(this),100)}},doEdit:function f(t,e){var i=document.getElementById("d_frm");var n=i.contentWindow?i.contentWindow:i.contentDocument.defaultView;var o=n.UM.getEditor("myEditor").hasContents();this.validateAll(function(){if(!o){window.Alert("请填写内容");return}var t={};for(var i in this.entity){t[i]=this.entity[i]}t.content=n.UM.getEditor("myEditor").getContent();window.post({url:"/yeyzsxjxh/news/modifyNews",data:window.myEncode(t)},function(t){t=window.myDecode(t);if(t.status==="success"){e.close();window.app.$broadcast("reloadList");window.Alert("操作成功")}else{window.Alert(t.message)}})}.bind(this))}},ready:function c(){this.beforeInit();window.post({url:"/yeyzsxjxh/news/getNews",data:window.myEncode({id:this.$parent.id})},function(t){t=window.myDecode(t);this.dataPreHandle(t);this.$nextTick(function(){this.afterInit();this.validateInit()}.bind(this));(0,o.default)("#d_topmask").show();this.setContent()}.bind(this))},components:{Vf:a.default}}},291:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(1);var o=s(n);var d=i(2);var a=s(d);function s(t){return t&&t.__esModule?t:{"default":t}}e.default={data:function r(){return{entity:{}}},props:["id"],methods:{},ready:function l(){window.post({url:"/yeyzsxjxh/news/getNews",data:window.myEncode({id:this.$parent.id})},function(t){t=window.myDecode(t);this.dataPreHandle(t);(0,o.default)("#d_editor").html(this.entity.content)}.bind(this))},components:{Vf:a.default}}},292:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=i(1);var o=b(n);var d=i(10);var a=b(d);var s=i(11);var r=b(s);var l=i(4);var u=b(l);var f=i(974);var c=b(f);var p=i(976);var v=b(p);var m=i(975);var w=b(m);var h=i(12);var x=b(h);function b(t){return t&&t.__esModule?t:{"default":t}}e.default={data:function y(){var t=window.__global.user.roletype;var e=(0,a.default)(["0","1","2","3","4"],"manage4_table",t,this);if(!e){return{}}return e},events:{add:"add",edit:"edit",del:"del",regain:"regain",view:"view",reloadList:"reloadList"},methods:{add:function _(){var t=u.default.extend({template:"<mx-add></mx-add>",components:{MxAdd:c.default}});this.dialogModal({did:"modal_add",title:"添加",cssClass:"big-dialog-umeditor",buttons:[{label:"提交",cssClass:"btn-primary",action:function e(t){window.app.$broadcast("doAdd",t)}},{label:"关闭",action:function i(t){t.close()}}]},t)},edit:function g(t){var e=u.default.extend({data:function i(){return{id:t}},template:'<mx-edit :id="id"></mx-edit>',components:{MxEdit:w.default}});this.dialogModal({did:"modal_edit",title:"修改",cssClass:"big-dialog-umeditor",buttons:[{label:"提交",cssClass:"btn-primary",action:function n(e){window.app.$broadcast("doEdit",t,e)}},{label:"关闭",action:function o(t){t.close()}}]},e)},view:function M(t,e){var i=u.default.extend({data:function o(){return{id:t}},template:'<mx-view :id="id"></mx-view>',components:{MxView:v.default}});var n=[];if(window.__global.user.datarole==="0"||window.__global.user.datarole==="1"){n.push({label:"修改",cssClass:"btn-primary",action:function(e){this.edit(t);e.close()}.bind(this)});if(e==="1"){n.push({label:"注销",cssClass:"btn-primary",action:function(e){this.del(t);e.close()}.bind(this)})}else{n.push({label:"恢复",cssClass:"btn-primary",action:function(e){this.regain(t);e.close()}.bind(this)})}}n.push({label:"关闭",action:function d(t){t.close()}});this.dialogModal({did:"modal_view",title:"查看",cssClass:"big-dialog-umeditor",buttons:n},i)},del:function E(t){this.dialogConfirm({title:"注销",message:"<div>您确定要撤销吗？</div>"},["取消","确定"],{url:"/yeyzsxjxh/news/cancelNews",data:window.myEncode({id:t})},function(){window.Alert("操作成功");this.dataHandle()}.bind(this),function(t,e){e.close();window.Alert(t.message)})},regain:function C(t){this.dialogConfirm({title:"恢复",message:"<div>您确定要恢复吗？</div>"},["取消","确定"],{url:"/yeyzsxjxh/news/recoverNews",data:window.myEncode({id:t})},function(){window.Alert("操作成功");this.dataHandle()}.bind(this),function(t,e){e.close();window.Alert(t.message)})}},ready:function A(){if(window.__global.user.roletype==="2"||window.__global.user.roletype==="3"){(0,o.default)(".mainarea").html("");window.Alert("区县管理员、学校管理员、校区管理员没有访问权限");return}this.pageNav();this.dataTableInit()},components:{Searchbar:r.default,Va:x.default}}},431:function(t,e,i){"use strict";var n=i(4);var o=r(n);var d=i(972);var a=r(d);var s=i(5);function r(t){return t&&t.__esModule?t:{"default":t}}window.__pageInit=function(){s.km.init(function(){window.app=new o.default({el:"body",components:{App:a.default}})})}},577:function(t,e){},578:function(t,e){},579:function(t,e){},580:function(t,e){},581:function(t,e){},582:function(t,e){},772:function(t,e){t.exports=" <div id=app class=appv> <navbar></navbar> <topmenu :current-menu=currentMenu :current-submenu=currentSubmenu :current-parentmenu=currentParentmenu></topmenu> <mainarea v-ref:mainarea></mainarea> </div> "},773:function(t,e){t.exports=" <div class=mainarea> <component :is=currentView></component> </div> "},774:function(t,e){t.exports=' <div class=d-tbl> <vf field=title label=标题 maxlength=100></vf> <vf field=starttime label=开始时间 data-dict=date></vf> <vf field=endtime label=结束时间 data-dict=date></vf> <div id=d_hint>正在加载编辑器...</div> <div id=d_editor style="padding-top: 10px;display:none"> <iframe id=d_frm src=../resource/umeditor1_2_2/index.html class=ifrm frameborder=0></iframe> </div> </div> '},775:function(t,e){t.exports=' <div class=d-tbl> <vf field=title label=标题 maxlength=100></vf> <vf field=starttime label=开始时间 data-dict=date></vf> <vf field=endtime label=结束时间 data-dict=date></vf> <div id=d_hint>正在加载编辑器...</div> <div id=d_editor style="padding-top: 10px;display:none"> <iframe id=d_frm src=../resource/umeditor1_2_2/index.html class=ifrm frameborder=0></iframe> </div> </div> '},776:function(t,e){t.exports=' <div class=d-tbl> <vf mode=view field=title label=标题></vf> <vf mode=view field=starttime label=开始时间 data-dict=date></vf> <vf mode=view field=endtime label=结束时间 data-dict=date></vf> <div id=d_editor style="margin-top:10px;padding:10px;border:1px solid #ddd"> </div> </div> '},777:function(t,e){t.exports=' <div class="pagetitle clearfix"> <div class=t></div> <div class=a></div> </div> <div class=pagebody> <div class=row> <div class=col-sm-12> <searchbar v-ref:searchbar :searchbar=searchbarId :searchbar-col=searchbarCol :searchbar-fields=searchbarFields></searchbar> </div> </div> <div class=row> <div class=col-sm-12> <div id=toolbar class=btn-toolbar> <va></va> </div> <table id=table class=tbl></table> </div> </div> </div> '},972:function(t,e,i){var n,o;i(577);n=i(287);o=i(772);t.exports=n||{};if(t.exports.__esModule)t.exports=t.exports.default;if(o){(typeof t.exports==="function"?t.exports.options||(t.exports.options={}):t.exports).template=o}},973:function(t,e,i){var n,o;i(578);n=i(288);o=i(773);t.exports=n||{};if(t.exports.__esModule)t.exports=t.exports.default;if(o){(typeof t.exports==="function"?t.exports.options||(t.exports.options={}):t.exports).template=o}},974:function(t,e,i){var n,o;i(579);n=i(289);o=i(774);t.exports=n||{};if(t.exports.__esModule)t.exports=t.exports.default;if(o){(typeof t.exports==="function"?t.exports.options||(t.exports.options={}):t.exports).template=o}},975:function(t,e,i){var n,o;i(580);n=i(290);o=i(775);t.exports=n||{};if(t.exports.__esModule)t.exports=t.exports.default;if(o){(typeof t.exports==="function"?t.exports.options||(t.exports.options={}):t.exports).template=o}},976:function(t,e,i){var n,o;i(581);n=i(291);o=i(776);t.exports=n||{};if(t.exports.__esModule)t.exports=t.exports.default;if(o){(typeof t.exports==="function"?t.exports.options||(t.exports.options={}):t.exports).template=o}},977:function(t,e,i){var n,o;i(582);n=i(292);o=i(777);t.exports=n||{};if(t.exports.__esModule)t.exports=t.exports.default;if(o){(typeof t.exports==="function"?t.exports.options||(t.exports.options={}):t.exports).template=o}}});